# [æ•°å¼ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼](bookmarklet/source/math.js) #

## æ¦‚è¦ ##

* ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€**ç”»é¢ä¸Šã«ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ãŒè¡¨ç¤º**ã•ã‚Œã¾ã™ã€‚
* `\alpha` ãªã©ã®æ–‡å­—åˆ—ã‚’ **è‡ªå‹•ã§æ•°å­¦è¨˜å·ã«å¤‰æ›ã™ã‚‹æ©Ÿèƒ½**ï¼ˆã‚ªãƒ³ãƒ»ã‚ªãƒ•åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ï¼‰ã‚’æ­è¼‰ã€‚
* ãƒ†ã‚­ã‚¹ãƒˆã¯ **`localStorage` ã«ä¿å­˜ã•ã‚Œã‚‹**ãŸã‚ã€**åŒä¸€ã‚µã‚¤ãƒˆå†…ã§ã®ã¿ä¿æŒã•ã‚Œã¾ã™**ï¼ˆâ€»ã‚µã‚¤ãƒˆãŒå¤‰ã‚ã‚‹ã¨æ¶ˆãˆã¾ã™ï¼‰ã€‚
* **å†ã‚¯ãƒªãƒƒã‚¯ã§éè¡¨ç¤ºã«åˆ‡ã‚Šæ›¿ãˆ**ã€‚
* ç°¡æ˜“çš„ãªãƒ•ã‚¡ã‚¤ãƒ«ã®**èª­ã¿è¾¼ã¿ãƒ»ä¿å­˜ï¼ˆæ›¸ãå‡ºã—ï¼‰æ©Ÿèƒ½**ã¤ãã€‚
* â€»ç¾åœ¨ã®åˆ¶é™ã¨ã—ã¦ã€å†…å®¹ãŒå¤§ãã„ã¨ `localStorage` ã«ä¿å­˜ã•ã‚Œãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

## ä½¿ã„æ–¹ ##

1. ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€**ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®URLæ¬„**ã«è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚
2. ä»»æ„ã®ãƒšãƒ¼ã‚¸ã§ãã®ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
3. å†åº¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã¯éè¡¨ç¤ºã«ãªã‚Šã¾ã™ã€‚

## ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚³ãƒ¼ãƒ‰ ##

```javascript
javascript:(function(){var div=document.getElementById('inputDiv');if(!div){div=document.createElement('div');div.id='inputDiv';div.style.position='fixed';div.style.top='50px';div.style.left='50px';div.style.padding='20px';div.style.backgroundColor='rgba(255, 255, 255, 0.9)';div.style.borderRadius='10px';div.style.boxShadow='0 4px 10px rgba(0, 0, 0, 0.2)';div.style.zIndex='9999';var titleBar=document.createElement('div');titleBar.style.cursor='move';titleBar.style.backgroundColor='#e0e0e0';titleBar.style.padding='5px';titleBar.style.borderRadius='5px';titleBar.style.marginBottom='10px';titleBar.style.color='#777';titleBar.innerHTML='ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ç§»å‹•';var fileNameInput=document.createElement('input');fileNameInput.type='text';fileNameInput.placeholder='ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å…¥åŠ›';fileNameInput.style.padding='5px';fileNameInput.style.border='1px solid #ccc';fileNameInput.style.borderRadius='5px';fileNameInput.value=localStorage.getItem('fileName')||'';fileNameInput.addEventListener('input',function(){localStorage.setItem('fileName',fileNameInput.value);});var inputBox=document.createElement('textarea');inputBox.style.fontSize='15px';inputBox.style.width='525px';inputBox.style.height='210px';inputBox.style.padding='5px';inputBox.style.border='1px solid #ccc';inputBox.style.borderRadius='5px';inputBox.style.resize='both';inputBox.style.marginTop='10px';inputBox.value=localStorage.getItem('sharedText')||'';inputBox.setAttribute('wrap','soft');inputBox.style.whiteSpace='pre-wrap';inputBox.style.wordWrap='break-word';var replaceEnabled=false;function transformText(text){if(replaceEnabled){return text.replace(/\\Alpha/g,'Î‘').replace(/\\alpha/g,'Î±').replace(/\\Beta/g,'Î’').replace(/\\beta/g,'Î²').replace(/\\Gamma/g,'Î“').replace(/\\gamma/g,'Î³').replace(/\\Delta/g,'Î”').replace(/\\delta/g,'Î´').replace(/\\Epsilon/g,'Î•').replace(/\\epsilon/g,'Îµ').replace(/\\Zeta/g,'Î–').replace(/\\zeta/g,'Î¶').replace(/\\Eta/g,'Î—').replace(/\\eta/g,'Î·').replace(/\\Theta/g,'Î˜').replace(/\\theta/g,'Î¸').replace(/\\Iota/g,'Î™').replace(/\\iota/g,'Î¹').replace(/\\Kappa/g,'Îš').replace(/\\kappa/g,'Îº').replace(/\\Lambda/g,'Î›').replace(/\\lambda/g,'Î»').replace(/\\Mu/g,'Îœ').replace(/\\mu/g,'Î¼').replace(/\\Nu/g,'Î').replace(/\\nu/g,'Î½').replace(/\\Xi/g,'Î').replace(/\\xi/g,'Î¾').replace(/\\Omicron/g,'ÎŸ').replace(/\\omicron/g,'Î¿').replace(/\\Pi/g,'Î ').replace(/\\pi/g,'Ï€').replace(/\\Rho/g,'Î¡').replace(/\\rho/g,'Ï').replace(/\\Sigma/g,'Î£').replace(/\\sigma/g,'Ïƒ').replace(/\\Tau/g,'Î¤').replace(/\\tau/g,'Ï„').replace(/\\Upsilon/g,'Î¥').replace(/\\upsilon/g,'Ï…').replace(/\\Phi/g,'Î¦').replace(/\\phi/g,'Ï†').replace(/\\Chi/g,'Î§').replace(/\\chi/g,'Ï‡').replace(/\\Psi/g,'Î¨').replace(/\\psi/g,'Ïˆ').replace(/\\Omega/g,'Î©').replace(/\\omega/g,'Ï‰').replace(/\\zh/g,'â†').replace(/\\zj/g,'â†“').replace(/\\zk/g,'â†‘').replace(/\\zl/g,'â†’').replace(/\\Int/g,'âˆ«').replace(/\\Ciin/g,'âˆ®').replace(/\\Infty/g,'âˆ').replace(/\\And/g,'âˆ§').replace(/\\Or/g,'âˆ¨').replace(/\\Inset/g,'âˆˆ').replace(/\\Noset/g,'âˆ‰').replace(/\\>=/g,'â‰§').replace(/\\<=/g,'â‰¦').replace(/\\~=/g,'â‰’').replace(/\\!=/g,'â‰ ').replace(/\\All/g,'âˆ€').replace(/\\SetA/g,'ğ”¸').replace(/\\SetB/g,'ğ”¹').replace(/\\SetC/g,'â„‚').replace(/\\SetD/g,'ğ”»').replace(/\\SetE/g,'ğ”¼').replace(/\\SetF/g,'ğ”½').replace(/\\SetG/g,'ğ”¾').replace(/\\SetH/g,'â„').replace(/\\SetI/g,'ğ•€').replace(/\\SetJ/g,'ğ•').replace(/\\SetK/g,'ğ•‚').replace(/\\SetL/g,'ğ•ƒ').replace(/\\SetM/g,'ğ•„').replace(/\\SetN/g,'â„•').replace(/\\SetO/g,'ğ•†').replace(/\\SetP/g,'â„™').replace(/\\SetQ/g,'â„š').replace(/\\SetR/g,'â„').replace(/\\SetS/g,'ğ•Š').replace(/\\SetT/g,'ğ•‹').replace(/\\SetU/g,'ğ•Œ').replace(/\\SetV/g,'ğ•').replace(/\\SetW/g,'ğ•').replace(/\\SetX/g,'ğ•').replace(/\\SetY/g,'ğ•').replace(/\\SetZ/g,'â„¤').replace(/\\!A/g,'ğ’œ').replace(/\\!B/g,'â„¬').replace(/\\!C/g,'ğ’').replace(/\\!D/g,'ğ’Ÿ').replace(/\\!E/g,'â„°').replace(/\\!F/g,'â„±').replace(/\\!G/g,'ğ’¢').replace(/\\!iH/g,'â„‹').replace(/\\!I/g,'â„').replace(/\\!J/g,'ğ’¥').replace(/\\!K/g,'ğ’¦').replace(/\\!L/g,'â„’').replace(/\\!iM/g,'â„³').replace(/\\!N/g,'ğ’©').replace(/\\!O/g,'ğ’ª').replace(/\\!P/g,'ğ’«').replace(/\\!Q/g,'ğ’¬').replace(/\\!R/g,'â„›').replace(/\\!S/g,'ğ’®').replace(/\\!T/g,'ğ’¯').replace(/\\!U/g,'ğ’°').replace(/\\!V/g,'ğ’±').replace(/\\!W/g,'ğ’²').replace(/\\!X/g,'ğ’³').replace(/\\!Y/g,'ğ’´').replace(/\\!Z/g,'ğ’µ').replace(/\\!a/g,'ğ’¶').replace(/\\!b/g,'ğ’·').replace(/\\!c/g,'ğ’¸').replace(/\\!d/g,'ğ’¹').replace(/\\!e/g,'ğ‘’').replace(/\\!f/g,'ğ’»').replace(/\\!g/g,'ğ‘”').replace(/\\!ih/g,'ğ’½').replace(/\\!i/g,'ğ’¾').replace(/\\!j/g,'ğ’¿').replace(/\\!k/g,'ğ“€').replace(/\\!l/g,'ğ“').replace(/\\!im/g,'ğ“‚').replace(/\\!n/g,'ğ“ƒ').replace(/\\!o/g,'ğ‘œ').replace(/\\!p/g,'ğ“…').replace(/\\!q/g,'ğ“†').replace(/\\!r/g,'ğ“‡').replace(/\\!s/g,'ğ“ˆ').replace(/\\!t/g,'ğ“‰').replace(/\\!u/g,'ğ“Š').replace(/\\!v/g,'ğ“‹').replace(/\\!w/g,'ğ“Œ').replace(/\\!x/g,'ğ“').replace(/\\!y/g,'ğ“').replace(/\\!z/g,'ğ“').replace(/\\Because/g,'âˆµ').replace(/\\Therefore/g,'âˆ´').replace(/\\Nabla/g,'âˆ‡').replace(/\\Partial/g,'âˆ‚').replace(/\\'0/g,'â°').replace(/\\'1/g,'Â¹').replace(/\\'2/g,'Â²').replace(/\\'3/g,'Â³').replace(/\\'4/g,'â´').replace(/\\5/g,'âµ').replace(/\\'6/g,'â¶').replace(/\\'7/g,'â·').replace(/\\'8/g,'â¸').replace(/\\'9/g,'â¹').replace(/\\'P/g,'âº').replace(/\\'M/g,'â€').replace(/\\,0/g,'â‚€').replace(/\\,1/g,'â‚').replace(/\\,2/g,'â‚‚').replace(/\\,3/g,'â‚ƒ').replace(/\\,4/g,'â‚„').replace(/\\,5/g,'â‚…').replace(/\\,6/g,'â‚†').replace(/\\,7/g,'â‚‡').replace(/\\,8/g,'â‚ˆ').replace(/\\,9/g,'â‚‰').replace(/\\,P/g,'â‚Š').replace(/\\,M/g,'â‚‹').replace(/\\Îœul/g,'Ã—').replace(/\\Div/g,'Ã·').replace(/\\PM/g,'Â±').replace(/\\MP/g,'âˆ“').replace(/\\Star/g,'â˜†').replace(/\\->/g,'â†¦').replace(/\\Section/g,'Â§').replace(/\\Sqrt/g,'âˆš').replace(/\\Curt/g,'âˆ›').replace(/\\Boip/g,'ã‚™').replace(/\\Cerp/g,'ã‚š');}return text;}inputBox.addEventListener('input',function(){inputBox.value=transformText(inputBox.value);localStorage.setItem('sharedText',inputBox.value);});var replaceToggleButton=document.createElement('button');replaceToggleButton.innerHTML='ç½®ãæ›ãˆã‚ªãƒ•';replaceToggleButton.style.padding='5px 10px';replaceToggleButton.style.border='1px solid #ccc';replaceToggleButton.style.borderRadius='5px';replaceToggleButton.addEventListener('click',function(){replaceEnabled=!replaceEnabled;replaceToggleButton.innerHTML=replaceEnabled?'ç½®ãæ›ãˆã‚ªãƒ³':'ç½®ãæ›ãˆã‚ªãƒ•';});var wrapButton=document.createElement('button');wrapButton.innerHTML='æŠ˜ã‚Šè¿”ã—';wrapButton.style.padding='5px 10px';wrapButton.style.border='1px solid #ccc';wrapButton.style.borderRadius='5px';wrapButton.addEventListener('click',function(){var isWrapping=inputBox.getAttribute('wrap')==='soft';inputBox.setAttribute('wrap',isWrapping?'off':'soft');inputBox.style.whiteSpace=isWrapping?'normal':'pre-wrap';inputBox.style.wordWrap=isWrapping?'normal':'break-word';});var dropdown=document.createElement('div');dropdown.style.position='relative';dropdown.style.display='inline-block';var dropdownButton=document.createElement('button');dropdownButton.innerHTML='ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ';dropdownButton.style.padding='5px 10px';dropdownButton.style.border='1px solid #ccc';dropdownButton.style.borderRadius='5px';dropdownButton.addEventListener('click',function(){dropdownMenu.style.display=dropdownMenu.style.display==='block'?'none':'block';});var dropdownMenu=document.createElement('div');dropdownMenu.style.display='none';dropdownMenu.style.position='absolute';dropdownMenu.style.top='100%';dropdownMenu.style.left='0';dropdownMenu.style.backgroundColor='#fff';dropdownMenu.style.boxShadow='0 8px 16px rgba(0, 0, 0, 0.2)';dropdownMenu.style.minWidth='160px';dropdownMenu.style.zIndex='999';dropdownMenu.style.border='1px solid #ccc';var loadButton=document.createElement('button');loadButton.innerHTML='èª­ã¿è¾¼ã¿';loadButton.style.padding='5px 10px';loadButton.style.border='1px solid #ccc';loadButton.style.borderRadius='5px';loadButton.style.width='100%';loadButton.addEventListener('click',function(){var input=document.createElement('input');input.type='file';input.accept='.txt';input.onchange=function(e){var reader=new FileReader();reader.onload=function(event){inputBox.value=event.target.result;};reader.readAsText(e.target.files[0]);};input.click();});var saveButton=document.createElement('button');saveButton.innerHTML='æ›¸ãå‡ºã—';saveButton.style.padding='5px 10px';saveButton.style.border='1px solid #ccc';saveButton.style.borderRadius='5px';saveButton.style.width='100%';saveButton.addEventListener('click',function(){var fileName=localStorage.getItem('fileName')||'Text';if(!fileName.includes('.')){fileName+='.txt';}var blob=new Blob([inputBox.value],{type:'text/plain'});var link=document.createElement('a');link.href=URL.createObjectURL(blob);link.download=fileName;link.click();});dropdownMenu.appendChild(loadButton);dropdownMenu.appendChild(saveButton);dropdown.appendChild(dropdownButton);dropdown.appendChild(dropdownMenu);var buttonContainer=document.createElement('div');buttonContainer.style.display='flex';buttonContainer.style.alignItems='center';buttonContainer.style.marginTop='10px';buttonContainer.style.gap='10px';buttonContainer.appendChild(replaceToggleButton);buttonContainer.appendChild(fileNameInput);buttonContainer.appendChild(dropdown);buttonContainer.appendChild(wrapButton);div.appendChild(titleBar);div.appendChild(buttonContainer);div.appendChild(inputBox);document.body.appendChild(div);var isDragging=false,offsetX,offsetY;titleBar.addEventListener('mousedown',function(e){isDragging=true;var rect=div.getBoundingClientRect();offsetX=e.clientX-rect.left;offsetY=e.clientY-rect.top;});document.addEventListener('mousemove',function(e){if(isDragging){e.preventDefault();div.style.left=(e.clientX-offsetX)+'px';div.style.top=(e.clientY-offsetY)+'px';}});document.addEventListener('mouseup',function(){isDragging=false;});}else{div.style.display=div.style.display==='none'?'block':'none';}})();
```

## å‚™è€ƒ ##

* ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã¯ã‚µã‚¤ã‚ºãŒå¤§ããã€ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã¨ã—ã¦ç™»éŒ²ã§ããªã„å ´åˆã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’åœ§ç¸®ã™ã‚‹ã‹ã€å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã—ã¦èª­ã¿è¾¼ã‚€å·¥å¤«ãŒå¿…è¦ã§ã™ã€‚
* ãƒ†ã‚­ã‚¹ãƒˆã®ä¿å­˜ã«ã¯ `localStorage` ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€**ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«ç‹¬ç«‹ã—ãŸä¿å­˜é ˜åŸŸ**ã¨ãªã‚Šã¾ã™ã€‚